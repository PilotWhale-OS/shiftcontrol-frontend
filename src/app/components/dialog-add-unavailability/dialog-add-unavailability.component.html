@if (viewWhen === true) {
  <xsb-dialog success="Add Unavailability" danger="Cancel & Close" (closeDialog)="result.next($event)">

    <ng-container dialog-header>
      <h1>Add unavailable time</h1>
    </ng-container>

    <ng-container dialog-body>
      <div class="flex flex-col gap-lg">

        <div class="max-w-[min(50vw,50rem)]">
          For each event, you can set times in which you are unavailable.
          You will not be assigned to shifts which collide with your availability.<br>
          The calendar will also mark shifts that do not fit your schedule.
        </div>

        <!-- add unavailability from -->
        <div class="grid grid-cols-[auto_1fr] gap-sm gap-x-md items-center col-span-2">
          <small class="col-span-2">Unavailable from</small>

          <xsb-input-toggle #unavailabilityFromEventStart [formControl]="form.controls.unavailabilityFromEventStart"
                            [xsb-typed]="[unavailabilityFromEventStart, form.controls.unavailabilityFromEventStart]" />
          <label for="event-unavailability-from-start">From Event Start</label>

          <div class="col-span-2">
            <xsb-input-date #unavailabilityFrom name="event-unavailability-from"
                            [formControl]="form.controls.unavailabilityFrom" [disabled]="unavailabilityFromEventStart.value"
                            [xsb-typed]="[unavailabilityFrom, form.controls.unavailabilityFrom]" />
          </div>
        </div>

        <!-- add unavailability until -->
        <div class="grid grid-cols-[auto_1fr] gap-sm gap-x-md items-center col-span-2">
          <small class="col-span-2">Unavailable until</small>

          <xsb-input-toggle #unavailabilityUntilEventEnd [formControl]="form.controls.unavailabilityUntilEventEnd"
                            [xsb-typed]="[unavailabilityUntilEventEnd, form.controls.unavailabilityUntilEventEnd]" />
          <label for="event-unavailability-until-end">Until Event End</label>

          <div class="col-span-2">
            <xsb-input-date #unavailabilityUntil name="event-unavailability-until"
                            [formControl]="form.controls.unavailabilityUntil" [disabled]="unavailabilityUntilEventEnd.value"
                            [xsb-typed]="[unavailabilityUntil, form.controls.unavailabilityUntil]" />
          </div>
        </div>


        <b>Do you want to add this unavailability time?</b>

      </div>
    </ng-container>

  </xsb-dialog>
}
