<!-- wrapper -->
<div class="flex flex-col gap-md h-full">

  <!-- header with filters-->
  <app-event-calendar-filter>
    <div class="flex flex-col pl-lg">
      <h1 class="signature-gradient-font">Event Calendar</h1>
      <span>
        Explore all scheduled shifts in the calendar below. Click on any shift to view details or to sign up.
    </span>
    </div>
  </app-event-calendar-filter>

  <!-- calendar -->
  <div class="card compact flex-grow overflow-hidden !bg-opacity-100">
    <app-shift-calendar-grid />
  </div>

</div>


<!-- view/edit/manage shift -->
@if (selectedShift$ | async; as shiftParams){
  @if (shiftParams !== null && shiftParams !== undefined){

    <xsb-dialog #dialog (closeDialog)="selectedShift$.next(undefined)" [maxSize]="true">

      <ng-container dialog-header>
        <h1 class="signature-gradient-font">
          {{manage.title$ | async}}
        </h1>
      </ng-container>

      <ng-container dialog-body>
        <app-manage-shift #manage
                          [manageData]="shiftParams"
                          (shiftChanged)="shiftChanged$.next($event)"
                          (navigateOut)="dialog.close()"
        />
      </ng-container>
    </xsb-dialog>
  }
}
